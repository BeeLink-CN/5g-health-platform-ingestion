{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$id": "vitals-recorded.json",
    "title": "Vitals Recorded Event",
    "description": "Event published when patient vitals are recorded",
    "type": "object",
    "properties": {
        "event_name": {
            "type": "string",
            "const": "vitals.recorded",
            "description": "Event type name"
        },
        "event_version": {
            "type": "string",
            "pattern": "^\\d+\\.\\d+\\.\\d+$",
            "description": "Semantic version of the event schema"
        },
        "event_id": {
            "type": "string",
            "format": "uuid",
            "description": "Unique identifier for this event"
        },
        "timestamp": {
            "type": "string",
            "format": "date-time",
            "description": "ISO 8601 timestamp when event was created"
        },
        "payload": {
            "type": "object",
            "properties": {
                "patient_id": {
                    "type": "string",
                    "format": "uuid",
                    "description": "Patient identifier"
                },
                "vitals": {
                    "$ref": "../domain/vitals.json"
                }
            },
            "required": [
                "patient_id",
                "vitals"
            ]
        }
    },
    "required": [
        "event_name",
        "event_version",
        "event_id",
        "timestamp",
        "payload"
    ],
    "additionalProperties": false
}